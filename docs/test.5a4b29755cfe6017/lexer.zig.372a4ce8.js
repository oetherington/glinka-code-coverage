var data = {lines:[
{"lineNum":"    1","line":"// glinka"},
{"lineNum":"    2","line":"// Copyright (C) 2021-2022 Ollie Etherington"},
{"lineNum":"    3","line":"// <www.etherington.io>"},
{"lineNum":"    4","line":"//"},
{"lineNum":"    5","line":"// This program is free software: you can redistribute it and/or modify"},
{"lineNum":"    6","line":"// it under the terms of the GNU Affero General Public License as published"},
{"lineNum":"    7","line":"// by the Free Software Foundation, either version 3 of the License, or"},
{"lineNum":"    8","line":"// (at your option) any later version."},
{"lineNum":"    9","line":"//"},
{"lineNum":"   10","line":"// This program is distributed in the hope that it will be useful,"},
{"lineNum":"   11","line":"// but WITHOUT ANY WARRANTY; without even the implied warranty of"},
{"lineNum":"   12","line":"// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the"},
{"lineNum":"   13","line":"// GNU Affero General Public License for more details."},
{"lineNum":"   14","line":"//"},
{"lineNum":"   15","line":"// You should have received a copy of the GNU Affero General Public License"},
{"lineNum":"   16","line":"// along with this program. If not, see <http://www.gnu.org/licenses/>."},
{"lineNum":"   17","line":""},
{"lineNum":"   18","line":"const std = @import(\"std\");"},
{"lineNum":"   19","line":"const expect = std.testing.expect;"},
{"lineNum":"   20","line":"const expectEqual = std.testing.expectEqual;"},
{"lineNum":"   21","line":"const expectEqualStrings = std.testing.expectEqualStrings;"},
{"lineNum":"   22","line":"const assert = std.debug.assert;"},
{"lineNum":"   23","line":"const Cursor = @import(\"../common/cursor.zig\").Cursor;"},
{"lineNum":"   24","line":"const Token = @import(\"../common/token.zig\").Token;"},
{"lineNum":"   25","line":"const lexOperator = @import(\"operator_lexer.zig\").lexOperator;"},
{"lineNum":"   26","line":""},
{"lineNum":"   27","line":"const keywordMap = std.ComptimeStringMap(Token.Type, .{"},
{"lineNum":"   28","line":"    .{ \"var\", .Var },"},
{"lineNum":"   29","line":"    .{ \"let\", .Let },"},
{"lineNum":"   30","line":"    .{ \"const\", .Const },"},
{"lineNum":"   31","line":"    .{ \"function\", .Function },"},
{"lineNum":"   32","line":"    .{ \"void\", .Void },"},
{"lineNum":"   33","line":"    .{ \"async\", .Async },"},
{"lineNum":"   34","line":"    .{ \"await\", .Await },"},
{"lineNum":"   35","line":"    .{ \"yield\", .Yield },"},
{"lineNum":"   36","line":"    .{ \"declare\", .Declare },"},
{"lineNum":"   37","line":"    .{ \"new\", .New },"},
{"lineNum":"   38","line":"    .{ \"delete\", .Delete },"},
{"lineNum":"   39","line":"    .{ \"this\", .This },"},
{"lineNum":"   40","line":"    .{ \"class\", .Class },"},
{"lineNum":"   41","line":"    .{ \"extends\", .Extends },"},
{"lineNum":"   42","line":"    .{ \"implements\", .Implements },"},
{"lineNum":"   43","line":"    .{ \"constructor\", .Constructor },"},
{"lineNum":"   44","line":"    .{ \"super\", .Super },"},
{"lineNum":"   45","line":"    .{ \"static\", .Static },"},
{"lineNum":"   46","line":"    .{ \"public\", .Public },"},
{"lineNum":"   47","line":"    .{ \"private\", .Private },"},
{"lineNum":"   48","line":"    .{ \"enum\", .Enum },"},
{"lineNum":"   49","line":"    .{ \"interface\", .Interface },"},
{"lineNum":"   50","line":"    .{ \"import\", .Import },"},
{"lineNum":"   51","line":"    .{ \"export\", .Export },"},
{"lineNum":"   52","line":"    .{ \"true\", .True },"},
{"lineNum":"   53","line":"    .{ \"false\", .False },"},
{"lineNum":"   54","line":"    .{ \"null\", .Null },"},
{"lineNum":"   55","line":"    .{ \"undefined\", .Undefined },"},
{"lineNum":"   56","line":"    .{ \"typeof\", .TypeOf },"},
{"lineNum":"   57","line":"    .{ \"instanceof\", .InstanceOf },"},
{"lineNum":"   58","line":"    .{ \"if\", .If },"},
{"lineNum":"   59","line":"    .{ \"else\", .Else },"},
{"lineNum":"   60","line":"    .{ \"do\", .Do },"},
{"lineNum":"   61","line":"    .{ \"while\", .While },"},
{"lineNum":"   62","line":"    .{ \"for\", .For },"},
{"lineNum":"   63","line":"    .{ \"in\", .In },"},
{"lineNum":"   64","line":"    .{ \"of\", .Of },"},
{"lineNum":"   65","line":"    .{ \"break\", .Break },"},
{"lineNum":"   66","line":"    .{ \"continue\", .Continue },"},
{"lineNum":"   67","line":"    .{ \"switch\", .Switch },"},
{"lineNum":"   68","line":"    .{ \"case\", .Case },"},
{"lineNum":"   69","line":"    .{ \"default\", .Default },"},
{"lineNum":"   70","line":"    .{ \"return\", .Return },"},
{"lineNum":"   71","line":"    .{ \"with\", .With },"},
{"lineNum":"   72","line":"    .{ \"throw\", .Throw },"},
{"lineNum":"   73","line":"    .{ \"try\", .Try },"},
{"lineNum":"   74","line":"    .{ \"catch\", .Catch },"},
{"lineNum":"   75","line":"    .{ \"finally\", .Finally },"},
{"lineNum":"   76","line":"});"},
{"lineNum":"   77","line":""},
{"lineNum":"   78","line":"fn getIdentTokenType(ident: []const u8) Token.Type {","class":"lineCov","hits":"1","order":"42","possible_hits":"1",},
{"lineNum":"   79","line":"    return keywordMap.get(ident) orelse .Ident;","class":"lineCov","hits":"1","order":"43","possible_hits":"1",},
{"lineNum":"   80","line":"}"},
{"lineNum":"   81","line":""},
{"lineNum":"   82","line":"fn isIdent0(c: u8) bool {","class":"lineCov","hits":"1","order":"30","possible_hits":"1",},
{"lineNum":"   83","line":"    return (c >= \'a\' and c <= \'z\') or (c >= \'A\' and c <= \'Z\') or c == \'_\' or c == \'$\';","class":"lineCov","hits":"1","order":"31","possible_hits":"1",},
{"lineNum":"   84","line":"}"},
{"lineNum":"   85","line":""},
{"lineNum":"   86","line":"fn isNum(c: u8) bool {","class":"lineCov","hits":"1","order":"38","possible_hits":"1",},
{"lineNum":"   87","line":"    return c >= \'0\' and c <= \'9\';","class":"lineCov","hits":"1","order":"39","possible_hits":"1",},
{"lineNum":"   88","line":"}"},
{"lineNum":"   89","line":""},
{"lineNum":"   90","line":"fn isIdent(c: u8) bool {","class":"lineCov","hits":"1","order":"35","possible_hits":"1",},
{"lineNum":"   91","line":"    return isIdent0(c) or isNum(c);","class":"lineCov","hits":"1","order":"36","possible_hits":"1",},
{"lineNum":"   92","line":"}"},
{"lineNum":"   93","line":""},
{"lineNum":"   94","line":"pub const Lexer = struct {"},
{"lineNum":"   95","line":"    const Context = struct {"},
{"lineNum":"   96","line":"        index: u64,"},
{"lineNum":"   97","line":"        csr: Cursor,"},
{"lineNum":"   98","line":"        token: Token,"},
{"lineNum":"   99","line":"    };"},
{"lineNum":"  100","line":""},
{"lineNum":"  101","line":"    code: []const u8,"},
{"lineNum":"  102","line":"    index: u64,"},
{"lineNum":"  103","line":"    csr: Cursor,"},
{"lineNum":"  104","line":"    token: Token,"},
{"lineNum":"  105","line":""},
{"lineNum":"  106","line":"    pub fn new(code: []const u8) Lexer {","class":"lineCov","hits":"1","order":"6","possible_hits":"1",},
{"lineNum":"  107","line":"        return Lexer{","class":"lineCov","hits":"1","order":"22","possible_hits":"1",},
{"lineNum":"  108","line":"            .code = code,","class":"lineCov","hits":"1","order":"7","possible_hits":"1",},
{"lineNum":"  109","line":"            .index = 0,","class":"lineCov","hits":"1","order":"8","possible_hits":"1",},
{"lineNum":"  110","line":"            .csr = Cursor.new(1, 1),","class":"lineCov","hits":"1","order":"9","possible_hits":"1",},
{"lineNum":"  111","line":"            .token = Token.newInvalid(),","class":"lineCov","hits":"1","order":"14","possible_hits":"1",},
{"lineNum":"  112","line":"        };"},
{"lineNum":"  113","line":"    }"},
{"lineNum":"  114","line":""},
{"lineNum":"  115","line":"    pub fn save(self: Lexer) Context {","class":"lineCov","hits":"1","order":"594","possible_hits":"1",},
{"lineNum":"  116","line":"        return Context{","class":"lineCov","hits":"1","order":"598","possible_hits":"1",},
{"lineNum":"  117","line":"            .index = self.index,","class":"lineCov","hits":"1","order":"595","possible_hits":"1",},
{"lineNum":"  118","line":"            .csr = self.csr,","class":"lineCov","hits":"1","order":"596","possible_hits":"1",},
{"lineNum":"  119","line":"            .token = self.token,","class":"lineCov","hits":"1","order":"597","possible_hits":"1",},
{"lineNum":"  120","line":"        };"},
{"lineNum":"  121","line":"    }"},
{"lineNum":"  122","line":""},
{"lineNum":"  123","line":"    pub fn restore(self: *Lexer, ctx: Context) void {","class":"lineCov","hits":"2","order":"605","possible_hits":"2",},
{"lineNum":"  124","line":"        self.index = ctx.index;","class":"lineCov","hits":"1","order":"606","possible_hits":"1",},
{"lineNum":"  125","line":"        self.csr = ctx.csr;","class":"lineCov","hits":"1","order":"607","possible_hits":"1",},
{"lineNum":"  126","line":"        self.token = ctx.token;","class":"lineCov","hits":"1","order":"608","possible_hits":"1",},
{"lineNum":"  127","line":"    }"},
{"lineNum":"  128","line":""},
{"lineNum":"  129","line":"    fn atom(self: *Lexer, ty: Token.Type) Token {","class":"lineCov","hits":"1","order":"366","possible_hits":"1",},
{"lineNum":"  130","line":"        self.token = Token.new(ty, self.csr);","class":"lineCov","hits":"1","order":"367","possible_hits":"1",},
{"lineNum":"  131","line":"        self.csr.ch += 1;","class":"lineCov","hits":"1","order":"368","possible_hits":"1",},
{"lineNum":"  132","line":"        self.index += 1;","class":"lineCov","hits":"1","order":"369","possible_hits":"1",},
{"lineNum":"  133","line":"        return self.token;","class":"lineCov","hits":"1","order":"370","possible_hits":"1",},
{"lineNum":"  134","line":"    }"},
{"lineNum":"  135","line":""},
{"lineNum":"  136","line":"    fn atomData(self: *Lexer, ty: Token.Type) Token {","class":"lineCov","hits":"1","order":"425","possible_hits":"1",},
{"lineNum":"  137","line":"        const data = self.code[self.index .. self.index + 1];","class":"lineCov","hits":"1","order":"426","possible_hits":"1",},
{"lineNum":"  138","line":"        self.token = Token.newData(ty, self.csr, data);","class":"lineCov","hits":"1","order":"427","possible_hits":"1",},
{"lineNum":"  139","line":"        self.csr.ch += 1;","class":"lineCov","hits":"1","order":"428","possible_hits":"1",},
{"lineNum":"  140","line":"        self.index += 1;","class":"lineCov","hits":"1","order":"429","possible_hits":"1",},
{"lineNum":"  141","line":"        return self.token;","class":"lineCov","hits":"1","order":"430","possible_hits":"1",},
{"lineNum":"  142","line":"    }"},
{"lineNum":"  143","line":""},
{"lineNum":"  144","line":"    fn ident(self: *Lexer) Token {","class":"lineCov","hits":"1","order":"28","possible_hits":"1",},
{"lineNum":"  145","line":"        assert(isIdent0(self.code[self.index]));","class":"linePartCov","hits":"1","order":"29","possible_hits":"2",},
{"lineNum":"  146","line":""},
{"lineNum":"  147","line":"        const start = self.index;","class":"lineCov","hits":"1","order":"32","possible_hits":"1",},
{"lineNum":"  148","line":"        self.index += 1;","class":"lineCov","hits":"1","order":"33","possible_hits":"1",},
{"lineNum":"  149","line":""},
{"lineNum":"  150","line":"        while (self.index < self.code.len and isIdent(self.code[self.index])) {","class":"lineCov","hits":"3","order":"34","possible_hits":"3",},
{"lineNum":"  151","line":"            self.index += 1;","class":"linePartCov","hits":"1","order":"37","possible_hits":"2",},
{"lineNum":"  152","line":"        }"},
{"lineNum":"  153","line":""},
{"lineNum":"  154","line":"        const data = self.code[start..self.index];","class":"linePartCov","hits":"1","order":"40","possible_hits":"2",},
{"lineNum":"  155","line":"        self.token = Token.newData(getIdentTokenType(data), self.csr, data);","class":"lineCov","hits":"1","order":"41","possible_hits":"1",},
{"lineNum":"  156","line":"        self.csr.ch += @intCast(u32, self.index - start);","class":"lineCov","hits":"1","order":"49","possible_hits":"1",},
{"lineNum":"  157","line":""},
{"lineNum":"  158","line":"        return self.token;","class":"lineCov","hits":"1","order":"50","possible_hits":"1",},
{"lineNum":"  159","line":"    }"},
{"lineNum":"  160","line":""},
{"lineNum":"  161","line":"    // TODO Handle floats, scientific notation, etc."},
{"lineNum":"  162","line":"    fn number(self: *Lexer) Token {","class":"lineCov","hits":"1","order":"515","possible_hits":"1",},
{"lineNum":"  163","line":"        assert(isNum(self.code[self.index]));","class":"linePartCov","hits":"1","order":"516","possible_hits":"2",},
{"lineNum":"  164","line":""},
{"lineNum":"  165","line":"        const start = self.index;","class":"lineCov","hits":"1","order":"517","possible_hits":"1",},
{"lineNum":"  166","line":"        self.index += 1;","class":"lineCov","hits":"1","order":"518","possible_hits":"1",},
{"lineNum":"  167","line":""},
{"lineNum":"  168","line":"        while (self.index < self.code.len and isNum(self.code[self.index])) {","class":"lineCov","hits":"3","order":"519","possible_hits":"3",},
{"lineNum":"  169","line":"            self.index += 1;","class":"linePartCov","hits":"1","order":"520","possible_hits":"2",},
{"lineNum":"  170","line":"        }"},
{"lineNum":"  171","line":""},
{"lineNum":"  172","line":"        self.token = Token.newData(","class":"lineCov","hits":"2","order":"521","possible_hits":"2",},
{"lineNum":"  173","line":"            Token.Type.Int,"},
{"lineNum":"  174","line":"            self.csr,","class":"lineCov","hits":"1","order":"522","possible_hits":"1",},
{"lineNum":"  175","line":"            self.code[start..self.index],","class":"linePartCov","hits":"1","order":"523","possible_hits":"2",},
{"lineNum":"  176","line":"        );"},
{"lineNum":"  177","line":""},
{"lineNum":"  178","line":"        self.csr.ch += @intCast(u32, self.index - start);","class":"lineCov","hits":"1","order":"524","possible_hits":"1",},
{"lineNum":"  179","line":""},
{"lineNum":"  180","line":"        return self.token;","class":"lineCov","hits":"1","order":"525","possible_hits":"1",},
{"lineNum":"  181","line":"    }"},
{"lineNum":"  182","line":""},
{"lineNum":"  183","line":"    fn string(self: *Lexer) Token {","class":"lineCov","hits":"1","order":"540","possible_hits":"1",},
{"lineNum":"  184","line":"        const delim = self.code[self.index];","class":"linePartCov","hits":"1","order":"541","possible_hits":"2",},
{"lineNum":"  185","line":"        assert(delim == \'\\\'\' or delim == \'\"\' or delim == \'`\');","class":"lineCov","hits":"2","order":"542","possible_hits":"2",},
{"lineNum":"  186","line":""},
{"lineNum":"  187","line":"        const csr = self.csr;","class":"lineCov","hits":"1","order":"543","possible_hits":"1",},
{"lineNum":"  188","line":"        const start = self.index;","class":"lineCov","hits":"1","order":"544","possible_hits":"1",},
{"lineNum":"  189","line":"        self.index += 1;","class":"linePartCov","hits":"1","order":"545","possible_hits":"2",},
{"lineNum":"  190","line":"        self.csr.ch += 1;","class":"lineCov","hits":"1","order":"546","possible_hits":"1",},
{"lineNum":"  191","line":""},
{"lineNum":"  192","line":"        var slashes: usize = 0;","class":"lineCov","hits":"1","order":"547","possible_hits":"1",},
{"lineNum":"  193","line":"        while (self.index < self.code.len) {","class":"lineCov","hits":"3","order":"548","possible_hits":"3",},
{"lineNum":"  194","line":"            const ch = self.code[self.index];","class":"linePartCov","hits":"1","order":"549","possible_hits":"2",},
{"lineNum":"  195","line":""},
{"lineNum":"  196","line":"            if (ch == \'\\\\\') {","class":"lineCov","hits":"2","order":"550","possible_hits":"2",},
{"lineNum":"  197","line":"                slashes += 1;","class":"linePartCov","hits":"1","order":"573","possible_hits":"2",},
{"lineNum":"  198","line":"                self.index += 1;","class":"lineCov","hits":"1","order":"574","possible_hits":"1",},
{"lineNum":"  199","line":"                self.csr.ch += 1;","class":"lineCov","hits":"1","order":"575","possible_hits":"1",},
{"lineNum":"  200","line":"                continue;","class":"lineCov","hits":"1","order":"576","possible_hits":"1",},
{"lineNum":"  201","line":"            } else if (ch == \'\\n\') {","class":"lineCov","hits":"3","order":"551","possible_hits":"3",},
{"lineNum":"  202","line":"                // TODO: New lines should only be valid inside templates"},
{"lineNum":"  203","line":"                self.csr.ln += 1;","class":"linePartCov","hits":"1","order":"580","possible_hits":"2",},
{"lineNum":"  204","line":"                self.csr.ch = 1;","class":"lineCov","hits":"1","order":"581","possible_hits":"1",},
{"lineNum":"  205","line":"            } else if (ch == delim and slashes & 1 == 0) {","class":"lineCov","hits":"2","order":"552","possible_hits":"2",},
{"lineNum":"  206","line":"                break;","class":"lineCov","hits":"1","order":"556","possible_hits":"1",},
{"lineNum":"  207","line":"            } else {"},
{"lineNum":"  208","line":"                self.csr.ch += 1;","class":"linePartCov","hits":"1","order":"553","possible_hits":"2",},
{"lineNum":"  209","line":"            }"},
{"lineNum":"  210","line":""},
{"lineNum":"  211","line":"            self.index += 1;","class":"linePartCov","hits":"1","order":"554","possible_hits":"2",},
{"lineNum":"  212","line":"            slashes = 0;","class":"lineCov","hits":"1","order":"555","possible_hits":"1",},
{"lineNum":"  213","line":"        }"},
{"lineNum":"  214","line":""},
{"lineNum":"  215","line":"        if (self.index >= self.code.len or self.code[self.index] != delim) {","class":"linePartCov","hits":"2","order":"557","possible_hits":"3",},
{"lineNum":"  216","line":"            self.token = Token.new(.Invalid, csr);","class":"lineCov","hits":"1","order":"586","possible_hits":"1",},
{"lineNum":"  217","line":"            return self.token;","class":"lineCov","hits":"1","order":"587","possible_hits":"1",},
{"lineNum":"  218","line":"        }"},
{"lineNum":"  219","line":""},
{"lineNum":"  220","line":"        self.index += 1;","class":"linePartCov","hits":"1","order":"558","possible_hits":"2",},
{"lineNum":"  221","line":"        self.csr.ch += 1;","class":"lineCov","hits":"1","order":"559","possible_hits":"1",},
{"lineNum":"  222","line":""},
{"lineNum":"  223","line":"        const ty: Token.Type = if (delim == \'`\') .Template else .String;","class":"lineCov","hits":"2","order":"560","possible_hits":"2",},
{"lineNum":"  224","line":"        const data = self.code[start..self.index];","class":"linePartCov","hits":"1","order":"561","possible_hits":"2",},
{"lineNum":"  225","line":"        self.token = Token.newData(ty, csr, data);","class":"lineCov","hits":"1","order":"562","possible_hits":"1",},
{"lineNum":"  226","line":""},
{"lineNum":"  227","line":"        return self.token;","class":"lineCov","hits":"1","order":"563","possible_hits":"1",},
{"lineNum":"  228","line":"    }"},
{"lineNum":"  229","line":""},
{"lineNum":"  230","line":"    pub fn operator(self: *Lexer) Token {","class":"lineCov","hits":"1","order":"391","possible_hits":"1",},
{"lineNum":"  231","line":"        if (lexOperator(self.code[self.index..])) |res| {","class":"linePartCov","hits":"1","order":"392","possible_hits":"2",},
{"lineNum":"  232","line":"            self.token = Token.new(res.ty, self.csr);","class":"lineCov","hits":"1","order":"409","possible_hits":"1",},
{"lineNum":"  233","line":"            self.index += res.len;","class":"linePartCov","hits":"1","order":"410","possible_hits":"2",},
{"lineNum":"  234","line":"            self.csr.ch += res.len;","class":"lineCov","hits":"1","order":"411","possible_hits":"1",},
{"lineNum":"  235","line":"            return self.token;","class":"lineCov","hits":"1","order":"412","possible_hits":"1",},
{"lineNum":"  236","line":"        } else {"},
{"lineNum":"  237","line":"            return self.atomData(Token.Type.Invalid);","class":"lineCov","hits":"1","order":"424","possible_hits":"1",},
{"lineNum":"  238","line":"        }"},
{"lineNum":"  239","line":"    }"},
{"lineNum":"  240","line":""},
{"lineNum":"  241","line":"    pub fn next(self: *Lexer) Token {","class":"lineCov","hits":"1","order":"24","possible_hits":"1",},
{"lineNum":"  242","line":"        nextLoop: while (self.index < self.code.len) {","class":"lineCov","hits":"2","order":"25","possible_hits":"2",},
{"lineNum":"  243","line":"            switch (self.code[self.index]) {","class":"linePartCov","hits":"4","order":"26","possible_hits":"5",},
{"lineNum":"  244","line":"                0 => break :nextLoop,","class":"lineCov","hits":"1","order":"375","possible_hits":"1",},
{"lineNum":"  245","line":"                \' \', \'\\t\', \'\\r\' => {"},
{"lineNum":"  246","line":"                    self.index += 1;","class":"linePartCov","hits":"1","order":"475","possible_hits":"2",},
{"lineNum":"  247","line":"                    self.csr.ch += 1;","class":"lineCov","hits":"1","order":"476","possible_hits":"1",},
{"lineNum":"  248","line":"                },"},
{"lineNum":"  249","line":"                \'\\n\' => {"},
{"lineNum":"  250","line":"                    self.index += 1;","class":"linePartCov","hits":"1","order":"477","possible_hits":"2",},
{"lineNum":"  251","line":"                    self.csr.ln += 1;","class":"lineCov","hits":"1","order":"478","possible_hits":"1",},
{"lineNum":"  252","line":"                    self.csr.ch = 1;","class":"lineCov","hits":"1","order":"479","possible_hits":"1",},
{"lineNum":"  253","line":"                },"},
{"lineNum":"  254","line":"                \'a\'...\'z\', \'A\'...\'Z\', \'_\' => return self.ident(),","class":"lineCov","hits":"2","order":"27","possible_hits":"2",},
{"lineNum":"  255","line":"                \'0\'...\'9\' => return self.number(),","class":"lineCov","hits":"1","order":"374","possible_hits":"1",},
{"lineNum":"  256","line":"                \'\\\'\', \'\"\', \'`\' => return self.string(),","class":"lineCov","hits":"1","order":"539","possible_hits":"1",},
{"lineNum":"  257","line":"                \'{\' => return self.atom(Token.Type.LBrace),","class":"lineCov","hits":"1","order":"380","possible_hits":"1",},
{"lineNum":"  258","line":"                \'}\' => return self.atom(Token.Type.RBrace),","class":"lineCov","hits":"1","order":"1922","possible_hits":"1",},
{"lineNum":"  259","line":"                \'[\' => return self.atom(Token.Type.LBrack),","class":"lineCov","hits":"1","order":"1851","possible_hits":"1",},
{"lineNum":"  260","line":"                \']\' => return self.atom(Token.Type.RBrack),","class":"lineCov","hits":"1","order":"1871","possible_hits":"1",},
{"lineNum":"  261","line":"                \'(\' => return self.atom(Token.Type.LParen),","class":"lineCov","hits":"1","order":"1759","possible_hits":"1",},
{"lineNum":"  262","line":"                \')\' => return self.atom(Token.Type.RParen),","class":"lineCov","hits":"1","order":"1793","possible_hits":"1",},
{"lineNum":"  263","line":"                \',\' => return self.atom(Token.Type.Comma),","class":"lineCov","hits":"1","order":"1861","possible_hits":"1",},
{"lineNum":"  264","line":"                \':\' => return self.atom(Token.Type.Colon),","class":"lineCov","hits":"1","order":"1904","possible_hits":"1",},
{"lineNum":"  265","line":"                \';\' => return self.atom(Token.Type.Semi),","class":"lineCov","hits":"1","order":"600","possible_hits":"1",},
{"lineNum":"  266","line":"                \'/\' => {"},
{"lineNum":"  267","line":"                    if (self.index + 1 >= self.code.len)","class":"linePartCov","hits":"2","order":"435","possible_hits":"3",},
{"lineNum":"  268","line":"                        return self.operator();","class":"lineCov","hits":"1","order":"436","possible_hits":"1",},
{"lineNum":"  269","line":""},
{"lineNum":"  270","line":"                    self.index += 1;","class":"linePartCov","hits":"1","order":"441","possible_hits":"2",},
{"lineNum":"  271","line":""},
{"lineNum":"  272","line":"                    switch (self.code[self.index]) {","class":"lineCov","hits":"1","order":"442","possible_hits":"1",},
{"lineNum":"  273","line":"                        \'*\' => {"},
{"lineNum":"  274","line":"                            self.index += 1;","class":"linePartCov","hits":"1","order":"443","possible_hits":"2",},
{"lineNum":"  275","line":""},
{"lineNum":"  276","line":"                            while (self.index < self.code.len) {","class":"lineCov","hits":"3","order":"444","possible_hits":"3",},
{"lineNum":"  277","line":"                                if (self.code[self.index] == \'/\' and self.code[self.index - 1] == \'*\') {","class":"linePartCov","hits":"2","order":"445","possible_hits":"3",},
{"lineNum":"  278","line":"                                    break;","class":"lineCov","hits":"1","order":"451","possible_hits":"1",},
{"lineNum":"  279","line":"                                } else if (self.code[self.index] == \'\\n\') {","class":"linePartCov","hits":"3","order":"446","possible_hits":"4",},
{"lineNum":"  280","line":"                                    self.csr.ln += 1;","class":"linePartCov","hits":"1","order":"449","possible_hits":"2",},
{"lineNum":"  281","line":"                                    self.csr.ch = 1;","class":"lineCov","hits":"1","order":"450","possible_hits":"1",},
{"lineNum":"  282","line":"                                }"},
{"lineNum":"  283","line":""},
{"lineNum":"  284","line":"                                self.index += 1;","class":"linePartCov","hits":"1","order":"447","possible_hits":"2",},
{"lineNum":"  285","line":"                                self.csr.ch += 1;","class":"lineCov","hits":"1","order":"448","possible_hits":"1",},
{"lineNum":"  286","line":"                            }"},
{"lineNum":"  287","line":""},
{"lineNum":"  288","line":"                            self.index += 1;","class":"linePartCov","hits":"1","order":"452","possible_hits":"2",},
{"lineNum":"  289","line":"                            continue :nextLoop;","class":"lineCov","hits":"1","order":"453","possible_hits":"1",},
{"lineNum":"  290","line":"                        },"},
{"lineNum":"  291","line":"                        \'/\' => {"},
{"lineNum":"  292","line":"                            self.index += 1;","class":"linePartCov","hits":"1","order":"460","possible_hits":"2",},
{"lineNum":"  293","line":""},
{"lineNum":"  294","line":"                            while (self.index < self.code.len) {","class":"lineCov","hits":"3","order":"461","possible_hits":"3",},
{"lineNum":"  295","line":"                                if (self.code[self.index] == \'\\n\')","class":"linePartCov","hits":"2","order":"462","possible_hits":"3",},
{"lineNum":"  296","line":"                                    break;","class":"lineCov","hits":"1","order":"464","possible_hits":"1",},
{"lineNum":"  297","line":""},
{"lineNum":"  298","line":"                                self.index += 1;","class":"linePartCov","hits":"1","order":"463","possible_hits":"2",},
{"lineNum":"  299","line":"                            }"},
{"lineNum":"  300","line":""},
{"lineNum":"  301","line":"                            self.index += 1;","class":"linePartCov","hits":"1","order":"465","possible_hits":"2",},
{"lineNum":"  302","line":"                            self.csr.ln += 1;","class":"lineCov","hits":"1","order":"466","possible_hits":"1",},
{"lineNum":"  303","line":"                            self.csr.ch = 1;","class":"lineCov","hits":"1","order":"467","possible_hits":"1",},
{"lineNum":"  304","line":"                            continue :nextLoop;","class":"lineCov","hits":"1","order":"468","possible_hits":"1",},
{"lineNum":"  305","line":"                        },"},
{"lineNum":"  306","line":"                        else => {"},
{"lineNum":"  307","line":"                            self.index -= 1;","class":"linePartCov","hits":"1","order":"2256","possible_hits":"2",},
{"lineNum":"  308","line":"                            return self.operator();","class":"lineCov","hits":"1","order":"2257","possible_hits":"1",},
{"lineNum":"  309","line":"                        },"},
{"lineNum":"  310","line":"                    }"},
{"lineNum":"  311","line":"                },"},
{"lineNum":"  312","line":"                \'.\',"},
{"lineNum":"  313","line":"                \'=\',"},
{"lineNum":"  314","line":"                \'+\',"},
{"lineNum":"  315","line":"                \'-\',"},
{"lineNum":"  316","line":"                \'*\',"},
{"lineNum":"  317","line":"                \'%\',"},
{"lineNum":"  318","line":"                \'!\',"},
{"lineNum":"  319","line":"                \'>\',"},
{"lineNum":"  320","line":"                \'<\',"},
{"lineNum":"  321","line":"                \'&\',"},
{"lineNum":"  322","line":"                \'|\',"},
{"lineNum":"  323","line":"                \'~\',"},
{"lineNum":"  324","line":"                \'^\',"},
{"lineNum":"  325","line":"                \'?\',"},
{"lineNum":"  326","line":"                => return self.operator(),","class":"lineCov","hits":"1","order":"390","possible_hits":"1",},
{"lineNum":"  327","line":"                else => return self.atomData(Token.Type.Invalid),","class":"lineCov","hits":"1","order":"486","possible_hits":"1",},
{"lineNum":"  328","line":"            }"},
{"lineNum":"  329","line":"        }"},
{"lineNum":"  330","line":""},
{"lineNum":"  331","line":"        return self.atom(Token.Type.EOF);","class":"lineCov","hits":"1","order":"365","possible_hits":"1",},
{"lineNum":"  332","line":"    }"},
{"lineNum":"  333","line":"};"},
{"lineNum":"  334","line":""},
{"lineNum":"  335","line":"test \"can classify keywords\" {","class":"lineCov","hits":"2","order":"330","possible_hits":"2",},
{"lineNum":"  336","line":"    try expectEqual(Token.Type.Ident, getIdentTokenType(\"not_a_keyword\"));","class":"lineCov","hits":"1","order":"331","possible_hits":"1",},
{"lineNum":"  337","line":"    try expectEqual(Token.Type.Class, getIdentTokenType(\"class\"));","class":"lineCov","hits":"1","order":"332","possible_hits":"1",},
{"lineNum":"  338","line":"    try expectEqual(Token.Type.True, getIdentTokenType(\"true\"));","class":"lineCov","hits":"1","order":"333","possible_hits":"1",},
{"lineNum":"  339","line":"}"},
{"lineNum":"  340","line":""},
{"lineNum":"  341","line":"test \"can classify identifier characters\" {","class":"lineCov","hits":"2","order":"334","possible_hits":"2",},
{"lineNum":"  342","line":"    var c: u8 = \'a\';","class":"lineCov","hits":"1","order":"335","possible_hits":"1",},
{"lineNum":"  343","line":"    while (c <= \'z\') : (c += 1) {","class":"linePartCov","hits":"2","order":"336","possible_hits":"3",},
{"lineNum":"  344","line":"        try expect(isIdent0(c));","class":"lineCov","hits":"1","order":"337","possible_hits":"1",},
{"lineNum":"  345","line":"        try expect(isIdent(c));","class":"lineCov","hits":"1","order":"338","possible_hits":"1",},
{"lineNum":"  346","line":"    }"},
{"lineNum":"  347","line":""},
{"lineNum":"  348","line":"    c = \'A\';","class":"lineCov","hits":"1","order":"339","possible_hits":"1",},
{"lineNum":"  349","line":"    while (c <= \'Z\') : (c += 1) {","class":"linePartCov","hits":"2","order":"340","possible_hits":"3",},
{"lineNum":"  350","line":"        try expect(isIdent0(c));","class":"lineCov","hits":"1","order":"341","possible_hits":"1",},
{"lineNum":"  351","line":"        try expect(isIdent(c));","class":"lineCov","hits":"1","order":"342","possible_hits":"1",},
{"lineNum":"  352","line":"    }"},
{"lineNum":"  353","line":""},
{"lineNum":"  354","line":"    c = \'0\';","class":"lineCov","hits":"1","order":"343","possible_hits":"1",},
{"lineNum":"  355","line":"    while (c <= \'9\') : (c += 1) {","class":"linePartCov","hits":"2","order":"344","possible_hits":"3",},
{"lineNum":"  356","line":"        try expect(!isIdent0(c));","class":"lineCov","hits":"1","order":"345","possible_hits":"1",},
{"lineNum":"  357","line":"        try expect(isIdent(c));","class":"lineCov","hits":"1","order":"346","possible_hits":"1",},
{"lineNum":"  358","line":"    }"},
{"lineNum":"  359","line":""},
{"lineNum":"  360","line":"    try expect(isIdent0(\'_\'));","class":"lineCov","hits":"1","order":"347","possible_hits":"1",},
{"lineNum":"  361","line":"    try expect(isIdent(\'_\'));","class":"lineCov","hits":"1","order":"348","possible_hits":"1",},
{"lineNum":"  362","line":""},
{"lineNum":"  363","line":"    try expect(isIdent0(\'$\'));","class":"lineCov","hits":"1","order":"349","possible_hits":"1",},
{"lineNum":"  364","line":"    try expect(isIdent(\'$\'));","class":"lineCov","hits":"1","order":"350","possible_hits":"1",},
{"lineNum":"  365","line":"}"},
{"lineNum":"  366","line":""},
{"lineNum":"  367","line":"test \"can classify integer characters\" {","class":"lineCov","hits":"2","order":"351","possible_hits":"2",},
{"lineNum":"  368","line":"    var c: u8 = \'0\';","class":"lineCov","hits":"1","order":"352","possible_hits":"1",},
{"lineNum":"  369","line":"    while (c <= \'9\') : (c += 1) {","class":"linePartCov","hits":"2","order":"353","possible_hits":"3",},
{"lineNum":"  370","line":"        try expect(isNum(c));","class":"lineCov","hits":"1","order":"354","possible_hits":"1",},
{"lineNum":"  371","line":"    }"},
{"lineNum":"  372","line":"}"},
{"lineNum":"  373","line":""},
{"lineNum":"  374","line":"test \"lexer can be initialized\" {","class":"lineCov","hits":"2","order":"355","possible_hits":"2",},
{"lineNum":"  375","line":"    const code: []const u8 = \"some sample code\";"},
{"lineNum":"  376","line":"    const lexer = Lexer.new(code);","class":"lineCov","hits":"1","order":"356","possible_hits":"1",},
{"lineNum":"  377","line":"    try expectEqual(code, lexer.code);","class":"lineCov","hits":"1","order":"357","possible_hits":"1",},
{"lineNum":"  378","line":"    try expectEqual(@intCast(u64, 0), lexer.index);","class":"lineCov","hits":"1","order":"358","possible_hits":"1",},
{"lineNum":"  379","line":"    try expectEqual(@intCast(u64, 1), lexer.csr.ln);","class":"lineCov","hits":"1","order":"359","possible_hits":"1",},
{"lineNum":"  380","line":"    try expectEqual(@intCast(u64, 1), lexer.csr.ch);","class":"lineCov","hits":"1","order":"360","possible_hits":"1",},
{"lineNum":"  381","line":"    try expectEqual(Token.Type.Invalid, lexer.token.ty);","class":"lineCov","hits":"1","order":"361","possible_hits":"1",},
{"lineNum":"  382","line":"}"},
{"lineNum":"  383","line":""},
{"lineNum":"  384","line":"test \"lexer can detect EOF\" {","class":"lineCov","hits":"2","order":"362","possible_hits":"2",},
{"lineNum":"  385","line":"    const code = \"\";"},
{"lineNum":"  386","line":"    var lexer = Lexer.new(code[0..]);","class":"lineCov","hits":"1","order":"363","possible_hits":"1",},
{"lineNum":"  387","line":"    const tkn = lexer.next();","class":"lineCov","hits":"1","order":"364","possible_hits":"1",},
{"lineNum":"  388","line":"    try expectEqual(Token.Type.EOF, tkn.ty);","class":"lineCov","hits":"1","order":"371","possible_hits":"1",},
{"lineNum":"  389","line":""},
{"lineNum":"  390","line":"    const nullTerminated = \"\\x00 this is never lexed\";"},
{"lineNum":"  391","line":"    lexer = Lexer.new(nullTerminated);","class":"lineCov","hits":"1","order":"372","possible_hits":"1",},
{"lineNum":"  392","line":"    const tkn2 = lexer.next();","class":"lineCov","hits":"1","order":"373","possible_hits":"1",},
{"lineNum":"  393","line":"    try expectEqual(Token.Type.EOF, tkn2.ty);","class":"lineCov","hits":"1","order":"376","possible_hits":"1",},
{"lineNum":"  394","line":"}"},
{"lineNum":"  395","line":""},
{"lineNum":"  396","line":"test \"lexer can lex simple atoms\" {","class":"lineCov","hits":"2","order":"377","possible_hits":"2",},
{"lineNum":"  397","line":"    const code = \"{\";"},
{"lineNum":"  398","line":"    var lexer = Lexer.new(code[0..]);","class":"lineCov","hits":"1","order":"378","possible_hits":"1",},
{"lineNum":"  399","line":"    const tkn = lexer.next();","class":"lineCov","hits":"1","order":"379","possible_hits":"1",},
{"lineNum":"  400","line":"    try expectEqual(Token.Type.LBrace, tkn.ty);","class":"lineCov","hits":"1","order":"381","possible_hits":"1",},
{"lineNum":"  401","line":"    try expectEqual(@intCast(u64, 1), tkn.csr.ln);","class":"lineCov","hits":"1","order":"382","possible_hits":"1",},
{"lineNum":"  402","line":"    try expectEqual(@intCast(u64, 1), tkn.csr.ch);","class":"lineCov","hits":"1","order":"383","possible_hits":"1",},
{"lineNum":"  403","line":"    try expectEqual(@intCast(u64, 1), lexer.csr.ln);","class":"lineCov","hits":"1","order":"384","possible_hits":"1",},
{"lineNum":"  404","line":"    try expectEqual(@intCast(u64, 2), lexer.csr.ch);","class":"lineCov","hits":"1","order":"385","possible_hits":"1",},
{"lineNum":"  405","line":"    try expectEqual(@intCast(u64, 1), lexer.index);","class":"lineCov","hits":"1","order":"386","possible_hits":"1",},
{"lineNum":"  406","line":"}"},
{"lineNum":"  407","line":""},
{"lineNum":"  408","line":"test \"lexer can lex operators\" {","class":"lineCov","hits":"2","order":"387","possible_hits":"2",},
{"lineNum":"  409","line":"    const code = \"++\";"},
{"lineNum":"  410","line":"    var lexer = Lexer.new(code[0..]);","class":"lineCov","hits":"1","order":"388","possible_hits":"1",},
{"lineNum":"  411","line":"    const tkn = lexer.next();","class":"lineCov","hits":"1","order":"389","possible_hits":"1",},
{"lineNum":"  412","line":"    try expectEqual(Token.Type.Inc, tkn.ty);","class":"lineCov","hits":"1","order":"413","possible_hits":"1",},
{"lineNum":"  413","line":"    try expectEqual(@intCast(u64, 1), tkn.csr.ln);","class":"lineCov","hits":"1","order":"414","possible_hits":"1",},
{"lineNum":"  414","line":"    try expectEqual(@intCast(u64, 1), tkn.csr.ch);","class":"lineCov","hits":"1","order":"415","possible_hits":"1",},
{"lineNum":"  415","line":"    try expectEqual(@intCast(u64, 1), lexer.csr.ln);","class":"lineCov","hits":"1","order":"416","possible_hits":"1",},
{"lineNum":"  416","line":"    try expectEqual(@intCast(u64, 3), lexer.csr.ch);","class":"lineCov","hits":"1","order":"417","possible_hits":"1",},
{"lineNum":"  417","line":"    try expectEqual(@intCast(u64, 2), lexer.index);","class":"lineCov","hits":"1","order":"418","possible_hits":"1",},
{"lineNum":"  418","line":""},
{"lineNum":"  419","line":"    lexer.code = \"c\";","class":"lineCov","hits":"1","order":"419","possible_hits":"1",},
{"lineNum":"  420","line":"    lexer.index = 0;","class":"lineCov","hits":"1","order":"420","possible_hits":"1",},
{"lineNum":"  421","line":"    const inv = lexer.operator();","class":"lineCov","hits":"1","order":"421","possible_hits":"1",},
{"lineNum":"  422","line":"    try expectEqual(Token.Type.Invalid, inv.ty);","class":"lineCov","hits":"1","order":"431","possible_hits":"1",},
{"lineNum":"  423","line":"}"},
{"lineNum":"  424","line":""},
{"lineNum":"  425","line":"test \"lexer can lex divide\" {","class":"lineCov","hits":"2","order":"432","possible_hits":"2",},
{"lineNum":"  426","line":"    const code = \"/\";"},
{"lineNum":"  427","line":"    var lexer = Lexer.new(code[0..]);","class":"lineCov","hits":"1","order":"433","possible_hits":"1",},
{"lineNum":"  428","line":"    const tkn = lexer.next();","class":"lineCov","hits":"1","order":"434","possible_hits":"1",},
{"lineNum":"  429","line":"    try expectEqual(Token.Type.Div, tkn.ty);","class":"lineCov","hits":"1","order":"437","possible_hits":"1",},
{"lineNum":"  430","line":"}"},
{"lineNum":"  431","line":""},
{"lineNum":"  432","line":"test \"lexer can skip C-style comments\" {","class":"lineCov","hits":"2","order":"438","possible_hits":"2",},
{"lineNum":"  433","line":"    const code = \"/* A \\ncomment*/.\";"},
{"lineNum":"  434","line":"    var lexer = Lexer.new(code[0..]);","class":"lineCov","hits":"1","order":"439","possible_hits":"1",},
{"lineNum":"  435","line":"    const tkn = lexer.next();","class":"lineCov","hits":"1","order":"440","possible_hits":"1",},
{"lineNum":"  436","line":"    try expectEqual(Token.Type.Dot, tkn.ty);","class":"lineCov","hits":"1","order":"454","possible_hits":"1",},
{"lineNum":"  437","line":"    try expectEqual(@intCast(u64, 2), tkn.csr.ln);","class":"lineCov","hits":"1","order":"455","possible_hits":"1",},
{"lineNum":"  438","line":"    try expectEqual(@intCast(u64, 10), tkn.csr.ch);","class":"lineCov","hits":"1","order":"456","possible_hits":"1",},
{"lineNum":"  439","line":"}"},
{"lineNum":"  440","line":""},
{"lineNum":"  441","line":"test \"lexer can skip C++-style comments\" {","class":"lineCov","hits":"2","order":"457","possible_hits":"2",},
{"lineNum":"  442","line":"    const code = \"// A comment\\n.\";"},
{"lineNum":"  443","line":"    var lexer = Lexer.new(code[0..]);","class":"lineCov","hits":"1","order":"458","possible_hits":"1",},
{"lineNum":"  444","line":"    const tkn = lexer.next();","class":"lineCov","hits":"1","order":"459","possible_hits":"1",},
{"lineNum":"  445","line":"    try expectEqual(Token.Type.Dot, tkn.ty);","class":"lineCov","hits":"1","order":"469","possible_hits":"1",},
{"lineNum":"  446","line":"    try expectEqual(@intCast(u64, 2), tkn.csr.ln);","class":"lineCov","hits":"1","order":"470","possible_hits":"1",},
{"lineNum":"  447","line":"    try expectEqual(@intCast(u64, 1), tkn.csr.ch);","class":"lineCov","hits":"1","order":"471","possible_hits":"1",},
{"lineNum":"  448","line":"}"},
{"lineNum":"  449","line":""},
{"lineNum":"  450","line":"test \"lexer can skip whitespace\" {","class":"lineCov","hits":"2","order":"472","possible_hits":"2",},
{"lineNum":"  451","line":"    const code = \" \\t\\r\\n .\";"},
{"lineNum":"  452","line":"    var lexer = Lexer.new(code[0..]);","class":"lineCov","hits":"1","order":"473","possible_hits":"1",},
{"lineNum":"  453","line":"    const tkn = lexer.next();","class":"lineCov","hits":"1","order":"474","possible_hits":"1",},
{"lineNum":"  454","line":"    try expectEqual(Token.Type.Dot, tkn.ty);","class":"lineCov","hits":"1","order":"480","possible_hits":"1",},
{"lineNum":"  455","line":"    try expectEqual(@intCast(u64, 2), tkn.csr.ln);","class":"lineCov","hits":"1","order":"481","possible_hits":"1",},
{"lineNum":"  456","line":"    try expectEqual(@intCast(u64, 2), tkn.csr.ch);","class":"lineCov","hits":"1","order":"482","possible_hits":"1",},
{"lineNum":"  457","line":"}"},
{"lineNum":"  458","line":""},
{"lineNum":"  459","line":"test \"lexer can lex invalid characters\" {","class":"lineCov","hits":"2","order":"483","possible_hits":"2",},
{"lineNum":"  460","line":"    const code = \"Â£\";"},
{"lineNum":"  461","line":"    var lexer = Lexer.new(code[0..]);","class":"lineCov","hits":"1","order":"484","possible_hits":"1",},
{"lineNum":"  462","line":"    const tkn = lexer.next();","class":"lineCov","hits":"1","order":"485","possible_hits":"1",},
{"lineNum":"  463","line":"    const expectedCode: []const u8 = code[0..1];"},
{"lineNum":"  464","line":"    try expectEqual(Token.Type.Invalid, tkn.ty);","class":"lineCov","hits":"1","order":"487","possible_hits":"1",},
{"lineNum":"  465","line":"    try expectEqual(expectedCode, tkn.data);","class":"lineCov","hits":"1","order":"488","possible_hits":"1",},
{"lineNum":"  466","line":"}"},
{"lineNum":"  467","line":""},
{"lineNum":"  468","line":"test \"lexer can lex identifiers\" {","class":"lineCov","hits":"2","order":"489","possible_hits":"2",},
{"lineNum":"  469","line":"    const code = \" anIdent0_ . \";"},
{"lineNum":"  470","line":"    var lexer = Lexer.new(code[0..]);","class":"lineCov","hits":"1","order":"490","possible_hits":"1",},
{"lineNum":"  471","line":""},
{"lineNum":"  472","line":"    const ident = lexer.next();","class":"lineCov","hits":"1","order":"491","possible_hits":"1",},
{"lineNum":"  473","line":"    try expectEqual(Token.Type.Ident, ident.ty);","class":"lineCov","hits":"1","order":"492","possible_hits":"1",},
{"lineNum":"  474","line":"    try expectEqualStrings(\"anIdent0_\", ident.data);","class":"lineCov","hits":"1","order":"493","possible_hits":"1",},
{"lineNum":"  475","line":"    try expectEqual(@intCast(u32, 1), ident.csr.ln);","class":"lineCov","hits":"1","order":"494","possible_hits":"1",},
{"lineNum":"  476","line":"    try expectEqual(@intCast(u32, 2), ident.csr.ch);","class":"lineCov","hits":"1","order":"495","possible_hits":"1",},
{"lineNum":"  477","line":""},
{"lineNum":"  478","line":"    const dot = lexer.next();","class":"lineCov","hits":"1","order":"496","possible_hits":"1",},
{"lineNum":"  479","line":"    try expectEqual(Token.Type.Dot, dot.ty);","class":"lineCov","hits":"1","order":"498","possible_hits":"1",},
{"lineNum":"  480","line":"    try expectEqual(@intCast(u32, 1), dot.csr.ln);","class":"lineCov","hits":"1","order":"499","possible_hits":"1",},
{"lineNum":"  481","line":"    try expectEqual(@intCast(u32, 12), dot.csr.ch);","class":"lineCov","hits":"1","order":"500","possible_hits":"1",},
{"lineNum":"  482","line":"}"},
{"lineNum":"  483","line":""},
{"lineNum":"  484","line":"test \"lexer can lex keywords\" {","class":"lineCov","hits":"2","order":"501","possible_hits":"2",},
{"lineNum":"  485","line":"    const code = \" null . \";"},
{"lineNum":"  486","line":"    var lexer = Lexer.new(code[0..]);","class":"lineCov","hits":"1","order":"502","possible_hits":"1",},
{"lineNum":"  487","line":""},
{"lineNum":"  488","line":"    const ident = lexer.next();","class":"lineCov","hits":"1","order":"503","possible_hits":"1",},
{"lineNum":"  489","line":"    try expectEqual(Token.Type.Null, ident.ty);","class":"lineCov","hits":"1","order":"504","possible_hits":"1",},
{"lineNum":"  490","line":"    try expectEqualStrings(\"null\", ident.data);","class":"lineCov","hits":"1","order":"505","possible_hits":"1",},
{"lineNum":"  491","line":"    try expectEqual(@intCast(u32, 1), ident.csr.ln);","class":"lineCov","hits":"1","order":"506","possible_hits":"1",},
{"lineNum":"  492","line":"    try expectEqual(@intCast(u32, 2), ident.csr.ch);","class":"lineCov","hits":"1","order":"507","possible_hits":"1",},
{"lineNum":"  493","line":""},
{"lineNum":"  494","line":"    const dot = lexer.next();","class":"lineCov","hits":"1","order":"508","possible_hits":"1",},
{"lineNum":"  495","line":"    try expectEqual(Token.Type.Dot, dot.ty);","class":"lineCov","hits":"1","order":"509","possible_hits":"1",},
{"lineNum":"  496","line":"    try expectEqual(@intCast(u32, 1), dot.csr.ln);","class":"lineCov","hits":"1","order":"510","possible_hits":"1",},
{"lineNum":"  497","line":"    try expectEqual(@intCast(u32, 7), dot.csr.ch);","class":"lineCov","hits":"1","order":"511","possible_hits":"1",},
{"lineNum":"  498","line":"}"},
{"lineNum":"  499","line":""},
{"lineNum":"  500","line":"test \"lexer can lex integers\" {","class":"lineCov","hits":"2","order":"512","possible_hits":"2",},
{"lineNum":"  501","line":"    const code = \" 123456 . \";"},
{"lineNum":"  502","line":"    var lexer = Lexer.new(code[0..]);","class":"lineCov","hits":"1","order":"513","possible_hits":"1",},
{"lineNum":"  503","line":""},
{"lineNum":"  504","line":"    const ident = lexer.next();","class":"lineCov","hits":"1","order":"514","possible_hits":"1",},
{"lineNum":"  505","line":"    try expectEqual(Token.Type.Int, ident.ty);","class":"lineCov","hits":"1","order":"526","possible_hits":"1",},
{"lineNum":"  506","line":"    try expectEqualStrings(\"123456\", ident.data);","class":"lineCov","hits":"1","order":"527","possible_hits":"1",},
{"lineNum":"  507","line":"    try expectEqual(@intCast(u32, 1), ident.csr.ln);","class":"lineCov","hits":"1","order":"528","possible_hits":"1",},
{"lineNum":"  508","line":"    try expectEqual(@intCast(u32, 2), ident.csr.ch);","class":"lineCov","hits":"1","order":"529","possible_hits":"1",},
{"lineNum":"  509","line":""},
{"lineNum":"  510","line":"    const dot = lexer.next();","class":"lineCov","hits":"1","order":"530","possible_hits":"1",},
{"lineNum":"  511","line":"    try expectEqual(Token.Type.Dot, dot.ty);","class":"lineCov","hits":"1","order":"531","possible_hits":"1",},
{"lineNum":"  512","line":"    try expectEqual(@intCast(u32, 1), dot.csr.ln);","class":"lineCov","hits":"1","order":"532","possible_hits":"1",},
{"lineNum":"  513","line":"    try expectEqual(@intCast(u32, 9), dot.csr.ch);","class":"lineCov","hits":"1","order":"533","possible_hits":"1",},
{"lineNum":"  514","line":"}"},
{"lineNum":"  515","line":""},
{"lineNum":"  516","line":"test \"lexer can lex strings\" {","class":"lineCov","hits":"2","order":"534","possible_hits":"2",},
{"lineNum":"  517","line":"    const StringTestCase = struct {"},
{"lineNum":"  518","line":"        code: []const u8,"},
{"lineNum":"  519","line":"        expectedType: Token.Type = .String,"},
{"lineNum":"  520","line":"        dotCursor: ?Cursor = null,"},
{"lineNum":"  521","line":""},
{"lineNum":"  522","line":"        pub fn run(comptime self: @This()) anyerror!void {","class":"lineCov","hits":"14","order":"536","possible_hits":"14",},
{"lineNum":"  523","line":"            const input = \" \" ++ self.code ++ \" . \";"},
{"lineNum":"  524","line":"            var lexer = Lexer.new(input[0..]);","class":"lineCov","hits":"7","order":"537","possible_hits":"7",},
{"lineNum":"  525","line":""},
{"lineNum":"  526","line":"            const str = lexer.next();","class":"lineCov","hits":"7","order":"538","possible_hits":"7",},
{"lineNum":"  527","line":"            try expectEqual(self.expectedType, str.ty);","class":"lineCov","hits":"7","order":"564","possible_hits":"7",},
{"lineNum":"  528","line":"            try expectEqualStrings(self.code, str.data);","class":"lineCov","hits":"7","order":"565","possible_hits":"7",},
{"lineNum":"  529","line":""},
{"lineNum":"  530","line":"            const dot = lexer.next();","class":"lineCov","hits":"7","order":"566","possible_hits":"7",},
{"lineNum":"  531","line":"            try expectEqual(Token.Type.Dot, dot.ty);","class":"lineCov","hits":"7","order":"567","possible_hits":"7",},
{"lineNum":"  532","line":"            if (self.dotCursor) |csr| {"},
{"lineNum":"  533","line":"                try expectEqual(csr, dot.csr);","class":"lineCov","hits":"1","order":"582","possible_hits":"1",},
{"lineNum":"  534","line":"            } else {"},
{"lineNum":"  535","line":"                try expectEqual(@intCast(u32, 1), dot.csr.ln);","class":"lineCov","hits":"6","order":"568","possible_hits":"6",},
{"lineNum":"  536","line":"                try expectEqual(@intCast(u32, self.code.len + 3), dot.csr.ch);","class":"lineCov","hits":"6","order":"569","possible_hits":"6",},
{"lineNum":"  537","line":"            }"},
{"lineNum":"  538","line":"        }"},
{"lineNum":"  539","line":"    };"},
{"lineNum":"  540","line":""},
{"lineNum":"  541","line":"    try (StringTestCase{ .code = \"\\\"hello world\\\"\" }).run();","class":"lineCov","hits":"1","order":"535","possible_hits":"1",},
{"lineNum":"  542","line":"    try (StringTestCase{ .code = \"\'hello world\'\" }).run();","class":"lineCov","hits":"1","order":"570","possible_hits":"1",},
{"lineNum":"  543","line":"    try (StringTestCase{ .code = \"\\\"\\\"\" }).run();","class":"lineCov","hits":"1","order":"571","possible_hits":"1",},
{"lineNum":"  544","line":"    try (StringTestCase{ .code = \"\\\"hello\\\\\\\"world\\\"\" }).run();","class":"lineCov","hits":"1","order":"572","possible_hits":"1",},
{"lineNum":"  545","line":"    try (StringTestCase{ .code = \"\\\"hello\\\\\\\\\\\"\" }).run();","class":"lineCov","hits":"1","order":"577","possible_hits":"1",},
{"lineNum":"  546","line":"    try (StringTestCase{ .code = \"\\\"hello\\\\\\\\\\\\\\\"world\\\"\" }).run();","class":"lineCov","hits":"1","order":"578","possible_hits":"1",},
{"lineNum":"  547","line":"    try (StringTestCase{","class":"lineCov","hits":"1","order":"583","possible_hits":"1",},
{"lineNum":"  548","line":"        .code = \"`hello\\nworld`\","},
{"lineNum":"  549","line":"        .expectedType = .Template,"},
{"lineNum":"  550","line":"        .dotCursor = comptime Cursor.new(2, 8),"},
{"lineNum":"  551","line":"    }).run();","class":"lineCov","hits":"1","order":"579","possible_hits":"1",},
{"lineNum":"  552","line":""},
{"lineNum":"  553","line":"    var lexer = Lexer.new(\"\'an unterminated string\");","class":"lineCov","hits":"1","order":"584","possible_hits":"1",},
{"lineNum":"  554","line":"    const str = lexer.next();","class":"lineCov","hits":"1","order":"585","possible_hits":"1",},
{"lineNum":"  555","line":"    try expectEqual(Token.Type.Invalid, str.ty);","class":"lineCov","hits":"1","order":"588","possible_hits":"1",},
{"lineNum":"  556","line":"}"},
{"lineNum":"  557","line":""},
{"lineNum":"  558","line":"test \"lexer can be saved and restored\" {","class":"lineCov","hits":"2","order":"589","possible_hits":"2",},
{"lineNum":"  559","line":"    const code: []const u8 = \". ; &\";"},
{"lineNum":"  560","line":"    var lexer = Lexer.new(code);","class":"lineCov","hits":"1","order":"590","possible_hits":"1",},
{"lineNum":"  561","line":""},
{"lineNum":"  562","line":"    var tkn = lexer.next();","class":"lineCov","hits":"1","order":"591","possible_hits":"1",},
{"lineNum":"  563","line":"    try expectEqual(Token.Type.Dot, tkn.ty);","class":"lineCov","hits":"1","order":"592","possible_hits":"1",},
{"lineNum":"  564","line":""},
{"lineNum":"  565","line":"    const ctx = lexer.save();","class":"lineCov","hits":"1","order":"593","possible_hits":"1",},
{"lineNum":"  566","line":""},
{"lineNum":"  567","line":"    tkn = lexer.next();","class":"lineCov","hits":"1","order":"599","possible_hits":"1",},
{"lineNum":"  568","line":"    try expectEqual(Token.Type.Semi, tkn.ty);","class":"lineCov","hits":"1","order":"601","possible_hits":"1",},
{"lineNum":"  569","line":""},
{"lineNum":"  570","line":"    tkn = lexer.next();","class":"lineCov","hits":"1","order":"602","possible_hits":"1",},
{"lineNum":"  571","line":"    try expectEqual(Token.Type.BitAnd, tkn.ty);","class":"lineCov","hits":"1","order":"603","possible_hits":"1",},
{"lineNum":"  572","line":""},
{"lineNum":"  573","line":"    lexer.restore(ctx);","class":"lineCov","hits":"1","order":"604","possible_hits":"1",},
{"lineNum":"  574","line":""},
{"lineNum":"  575","line":"    tkn = lexer.next();","class":"lineCov","hits":"1","order":"609","possible_hits":"1",},
{"lineNum":"  576","line":"    try expectEqual(Token.Type.Semi, tkn.ty);","class":"lineCov","hits":"1","order":"610","possible_hits":"1",},
{"lineNum":"  577","line":"}"},
]};
var percent_low = 25;var percent_high = 75;
var header = { "command" : "test", "date" : "2021-12-30 12:05:09", "instrumented" : 299, "covered" : 299,};
var merged_data = [];
